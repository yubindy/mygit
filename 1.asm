COUNT EQU 10
DATA SEGMENT
	NUM DB 10 DUP(?)
	IBUF DB 7,0,6 DUP(?)
	OBUF DB 6 DUP(?)
	INFOR1 DB "Please input 10 numbers:",0AH,0DH,'$'
	INFOR2 DB "The max found in the 10 numbers is $"
	INFOR3 DB 0AH, 0DH, '$'
DATA ENDS
STACK SEGMENT stack
	DATA2 DW 40 DUP(?)
	TOP EQU LENGTH DATA2
STACK ENDS
CODE SEGMENT
	ASSUME CS:CODE, DS:DATA, SS:STACK
START:
	MOV AX, DATA
	MOV DS, AX
	MOV AX, STACK
	MOV SS, AX
	MOV AX, TOP
	MOV SP, AX
DSTRING MACRO STRING
	PUSH DX
	PUSH AX
	MOV DX, OFFSET STRING
	MOV AH, 09H
	INT 21H
	POP AX
	POP DX
	ENDM
	DSTRING INFOR1
	MOV BX, OFFSET NUM
	MOV CX, COUNT
LOOP1:
	CALL DTOB
	DSTRING INFOR3
	MOV [BX], AL
	INC BX
	LOOP LOOP1
	MOV AX, OFFSET NUM
	PUSH AX
	MOV CX, COUNT
	PUSH CX
	CALL FMAX
	DSTRING INFOR2
	CALL BTOAD
	MOV AH, 4CH
	INT 21H
	DTOB PROC
		PUSH BX
		PUSH CX
		PUSH DX
		PUSHF
		MOV DX, OFFSET IBUF
		MOV AH, 0AH
		INT 21H	
		MOV CL, IBUF+1
		MOV CH, 0
		MOV SI, OFFSET IBUF+2
		MOV AX, 0
	AGAIN:
		MOV DX, 10
		MUL DX
		AND BYTE PTR[SI], 0FH
		ADD AL, [SI]
		INC SI
		LOOP AGAIN
		POPF
		POP DX
		POP CX
		POP BX
		RET
	DTOB ENDP
	FMAX PROC
		PUSH BX
		PUSH CX
		PUSH DX
		PUSHF
		MOV AL, IBUF
		MOV SI, OFFSET IBUF
		MOV CX, 9
	LOOP31:
		INC SI
		CMP AL, [SI]
		JAE LOOP32
		XCHG AL, [SI]
	LOOP32:
		DEC CX
		JNZ LOOP31
		MOV NUM,AL
		POPF
		POP DX
		POP CX
		POP BX
		RET
	FMAX ENDP
	BTOAD PROC
		PUSH AX
		PUSH BX
		PUSH CX
		PUSH DX
		PUSHF
		MOV BX,OFFSET OBUF+6
		MOV BYTE PTR[BX], '$'
		MOV CX,10
	LOOP4:
		MOV DX,0
		DIV CX
		ADD DL, 30H
		DEC BX
		MOV [BX], DL
		OR AX, AX
		JNZ LOOP4
		PUSH DX
		MOV AH,02H
		MOV DL,0DH
		INT 21H
		MOV AH,02H
		MOV DL,0AH
		INT 21H
		POP DX
		MOV DX,OFFSET OBUF
		MOV AH, 09H
		INT 21H
		POPF
		POP DX
		POP CX
		POP BX
		POP AX
		RET
	BTOAD ENDP
CODE ENDS
	END START
